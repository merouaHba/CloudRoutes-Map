import L from "leaflet";

// Modern minimalist bus stop icon
export const busStopIcon = L.divIcon({
  className: "custom-bus-stop-icon",
  html: `
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Outer circle -->
      <circle cx="16" cy="16" r="15" fill="white" stroke="#4338CA" stroke-width="2"/>
      
      <!-- Bus stop icon -->
      <path d="M16 8C18.5 8 20.5 8.75 20.5 9.75V10.25V11C20.8284 11 21 11.1716 21 11.5V13C21 13.3284 20.8284 13.5 20.5 13.5V18C20.5 18.3284 20.3284 18.5 20 18.5V19.25C20 19.5784 19.8284 19.75 19.5 19.75H18.5C18.1716 19.75 18 19.5784 18 19.25V18.5H14V19.25C14 19.5784 13.8284 19.75 13.5 19.75H12.5C12.1716 19.75 12 19.5784 12 19.25V18.5C11.6716 18.5 11.5 18.3284 11.5 18V13.5C11.1716 13.5 11 13.3284 11 13V11.5C11 11.1716 11.1716 11 11.5 11V10.25V9.75C11.5 8.75 13.5 8 16 8ZM13 11.5V13.5C13 13.8284 13.1716 14 13.5 14H15.5V11H13.5C13.1716 11 13 11.1716 13 11.5ZM16.5 14H18.5C18.8284 14 19 13.8284 19 13.5V11.5C19 11.1716 18.8284 11 18.5 11H16.5V14ZM13.75 17C13.9489 17 14.1397 16.921 14.2803 16.7803C14.421 16.6397 14.5 16.4489 14.5 16.25C14.5 16.0511 14.421 15.8603 14.2803 15.7197C14.1397 15.579 13.9489 15.5 13.75 15.5C13.5511 15.5 13.3603 15.579 13.2197 15.7197C13.079 15.8603 13 16.0511 13 16.25C13 16.4489 13.079 16.6397 13.2197 16.7803C13.3603 16.921 13.5511 17 13.75 17ZM18.25 17C18.4489 17 18.6397 16.921 18.7803 16.7803C18.921 16.6397 19 16.4489 19 16.25C19 16.0511 18.921 15.8603 18.7803 15.7197C18.6397 15.579 18.4489 15.5 18.25 15.5C18.0511 15.5 17.8603 15.579 17.7197 15.7197C17.579 15.8603 17.5 16.0511 17.5 16.25C17.5 16.4489 17.579 16.6397 17.7197 16.7803C17.8603 16.921 18.0511 17 18.25 17Z" fill="#4338CA"/>
      
      <!-- Post -->
      <path d="M10 14C9.99 13.28 9.415 12.71 8.69 12.7375C7.965 12.755 7.405 13.32 7.42 14.04C7.4365 14.6325 7.82 15.135 8.33 15.25V21H9V15.25C9.525 15.13 9.995 14.595 10 14Z" fill="#4338CA"/>
    </svg>
  `,
  iconSize: new L.Point(32, 32),
  iconAnchor: [16, 32],
  popupAnchor: [0, -32],
});

export const busIcon = (name: string, angle: number) =>
  L.divIcon({
    className: "bus-icon",
    html: `<div class="bus-icon-container">
        <div class="bus-name">${name}</div>
          <div class="bus-direction" style="--angle: ${angle}deg;">
            <svg width="48" height="56" viewBox="0 0 48 56" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- Main circle -->
              <circle cx="24" cy="34" r="20" fill="white" stroke="#4338CA" stroke-width="2.5"/>
              
              <!-- Bus icon -->
              <path d="M24 22C28.5 22 31.5 23.125 31.5 24.625V25.125V26.25C32.0523 26.25 32.5 26.6977 32.5 27.25V29.25C32.5 29.8023 32.0523 30.25 31.5 30.25V35.5C31.5 36.0523 31.0523 36.5 30.5 36.5V37.5C30.5 38.0523 30.0523 38.5 29.5 38.5H28.5C27.9477 38.5 27.5 38.0523 27.5 37.5V36.5H20.5V37.5C20.5 38.0523 20.0477 38.5 19.5 38.5H18.5C17.9477 38.5 17.5 38.0523 17.5 37.5V36.5C16.9477 36.5 16.5 36.0523 16.5 35.5V30.25C15.9477 30.25 15.5 29.8023 15.5 29.25V27.25C15.5 26.6977 15.9477 26.25 16.5 26.25V25.125V24.625C16.5 23.125 19.5 22 24 22ZM18.5 27.25V30.25C18.5 30.8023 18.9477 31.25 19.5 31.25H23V26.25H19.5C18.9477 26.25 18.5 26.6977 18.5 27.25ZM24.5 31.25H28.5C29.0523 31.25 29.5 30.8023 29.5 30.25V27.25C29.5 26.6977 29.0523 26.25 28.5 26.25H24.5V31.25ZM19.625 35C19.8904 35 20.1446 34.8946 20.3321 34.7071C20.5196 34.5196 20.625 34.2654 20.625 34C20.625 33.7346 20.5196 33.4804 20.3321 33.2929C20.1446 33.1054 19.8904 33 19.625 33C19.3596 33 19.1054 33.1054 18.9179 33.2929C18.7304 33.4804 18.625 33.7346 18.625 34C18.625 34.2654 18.7304 34.5196 18.9179 34.7071C19.1054 34.8946 19.3596 35 19.625 35ZM28.375 35C28.6404 35 28.8946 34.8946 29.0821 34.7071C29.2696 34.5196 29.375 34.2654 29.375 34C29.375 33.7346 29.2696 33.4804 29.0821 33.2929C28.8946 33.1054 28.6404 33 28.375 33C28.1096 33 27.8554 33.1054 27.6679 33.2929C27.4804 33.4804 27.375 33.7346 27.375 34C27.375 34.2654 27.4804 34.5196 27.6679 34.7071C27.8554 34.8946 28.1096 35 28.375 35ZM27.5 24.625C27.5 24.3467 27.2761 24.125 27 24.125H21C20.7239 24.125 20.5 24.3467 20.5 24.625C20.5 24.9033 20.7239 25.125 21 25.125H27C27.2761 25.125 27.5 24.9033 27.5 24.625Z" fill="#4338CA"/>
              
              <!-- Direction arrow -->
              <path d="M24 8L20.5 14L24 12.8333L27.5 14L24 8Z" stroke="#4338CA" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
         </div>
      `,
    iconSize: new L.Point(48, 56),
    iconAnchor: [24, 56],
    popupAnchor: [0, -56],
  });

export const userIcon = () => {
  return L.divIcon({
    className: "user-location-icon",
    html: `
      <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Main circle -->
        <circle cx="24" cy="24" r="20" fill="url(#userGradient)"/>
        
        <!-- Inner white circle -->
        <circle cx="24" cy="24" r="16" fill="white"/>
        
        <!-- Location dot -->
        <circle cx="24" cy="24" r="7" fill="url(#userGradient)"/>
        
        <!-- Direction arrow -->
        <path d="M30.0641 31.7983C30.6395 31.9901 31.1749 31.4184 30.9457 30.8567L24.6573 15.4417C24.417 14.8528 23.583 14.8528 23.3427 15.4417L17.0543 30.8567C16.8251 31.4184 17.3605 31.9901 17.936 31.7983L23.7755 29.8517C23.9212 29.8032 24.0788 29.8032 24.2245 29.8517L30.0641 31.7983Z" fill="white"/>
        
        <!-- Pulse animation circle -->
        <circle cx="24" cy="24" r="20" fill="none" stroke="url(#userGradient)" stroke-width="2" opacity="0.5">
          <animate attributeName="r" from="20" to="26" dur="1.5s" repeatCount="indefinite"/>
          <animate attributeName="opacity" from="0.5" to="0" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        
        <defs>
          <linearGradient id="userGradient" x1="0" y1="0" x2="48" y2="48" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#10b981"/>
            <stop offset="100%" stop-color="#06b6d4"/>
          </linearGradient>
        </defs>
      </svg>
    `,
    iconSize: new L.Point(48, 48),
    iconAnchor: [24, 24],
    popupAnchor: [0, -24],
  });
};
